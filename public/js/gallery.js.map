{"version":3,"sources":["file:///C:/Users/nidio/OneDrive/Documents/GitHub/_hugo/nidio-dev/themes/hugo-narrow/assets/js/gallery.js"],"sourcesContent":["/**\r\n * 模块化图片画廊系统\r\n * 分离的灯箱和布局管理器\r\n */\r\n\r\n// 灯箱管理器\r\nclass LightboxManager {\r\n  constructor(config = {}) {\r\n    this.config = config;\r\n    this.instances = [];\r\n  }\r\n\r\n  initialize(container, galleryId) {\r\n    if (typeof GLightbox === 'undefined') {\r\n      console.error('GLightbox is not available');\r\n      return null;\r\n    }\r\n\r\n    const options = {\r\n      selector: `[data-gallery=\"${galleryId}\"]`,\r\n      touchNavigation: this.config.touchNavigation ?? this.config.touchnavigation ?? true,\r\n      loop: this.config.loop ?? false,\r\n      draggable: this.config.draggable ?? true,\r\n      zoomable: this.config.zoomable ?? true,\r\n      autoplayVideos: this.config.autoplayVideos ?? this.config.autoplayvideos ?? false,\r\n      preload: this.config.preload ?? true,\r\n      width: this.config.width ?? '90vw',\r\n      height: this.config.height ?? '90vh',\r\n      descPosition: this.config.descPosition ?? this.config.descposition ?? 'bottom'\r\n    };\r\n\r\n\r\n    try {\r\n      const lightbox = GLightbox(options);\r\n      \r\n      this.instances.push({\r\n        container: container,\r\n        instance: lightbox,\r\n        galleryId: galleryId\r\n      });\r\n\r\n      return lightbox;\r\n    } catch (error) {\r\n      console.error(`Error initializing GLightbox for ${galleryId}:`, error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  setupAttributes(link, img, caption) {\r\n    const imgTitle = img.getAttribute('data-gallery-title') || img.title || '';\r\n    const imgAlt = img.getAttribute('data-gallery-alt') || img.alt || '';\r\n\r\n    let description = '';\r\n\r\n    if (imgTitle \u0026\u0026 imgAlt \u0026\u0026 imgTitle !== imgAlt) {\r\n      description = `\u003ch4\u003e${imgTitle}\u003c/h4\u003e\u003cp\u003e${imgAlt}\u003c/p\u003e`;\r\n    } else if (imgTitle) {\r\n      description = `\u003ch4\u003e${imgTitle}\u003c/h4\u003e`;\r\n    } else if (imgAlt) {\r\n      description = `\u003cp\u003e${imgAlt}\u003c/p\u003e`;\r\n    } else if (caption) {\r\n      const captionText = caption.textContent.trim();\r\n      if (captionText) {\r\n        description = `\u003cp\u003e${captionText}\u003c/p\u003e`;\r\n      }\r\n    }\r\n\r\n    if (description) {\r\n      link.setAttribute('data-description', description);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.instances.forEach(instance =\u003e {\r\n      try {\r\n        if (instance.instance \u0026\u0026 instance.instance.destroy) {\r\n          instance.instance.destroy();\r\n        }\r\n      } catch (error) {\r\n        console.error(`Error destroying lightbox instance:`, error);\r\n      }\r\n    });\r\n    this.instances = [];\r\n  }\r\n}\r\n\r\n// Justified布局管理器\r\nclass JustifiedLayoutManager {\r\n  constructor(config = {}) {\r\n    this.config = config;\r\n    this.instances = [];\r\n  }\r\n\r\n  initialize(container) {\r\n    if (typeof fjGallery === 'undefined') {\r\n      console.error('fjGallery is not available');\r\n      return false;\r\n    }\r\n \r\n    const options = {\r\n      itemSelector: '.fj-gallery-item',\r\n      imageSelector: 'img',\r\n      rowHeight: parseInt(this.config.rowHeight ?? this.config.rowheight) || 200,\r\n      gutter: parseInt(this.config.gutter) || 10,\r\n      lastRow: this.config.lastRow ?? this.config.lastrow ?? 'left',\r\n      transitionDuration: this.config.transitionDuration ?? this.config.transitionduration ?? '0.3s',\r\n      calculateItemsHeight: this.config.calculateItemsHeight ?? this.config.calculateitemsheight ?? false,\r\n      resizeDebounce: parseInt(this.config.resizeDebounce ?? this.config.resizedebounce) || 100,\r\n      rowHeightTolerance: parseFloat(this.config.rowHeightTolerance ?? this.config.rowheighttolerance) || 0.25,\r\n      maxRowsCount: parseInt(this.config.maxRowsCount ?? this.config.maxrowscount) || Number.POSITIVE_INFINITY\r\n    };\r\n    // console.log('options:', options);\r\n    // console.log('config', this.config);\r\n\r\n    try {\r\n      fjGallery([container], options);\r\n      \r\n      this.instances.push({\r\n        container: container,\r\n        options: options\r\n      });\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error(`Error initializing fjGallery for ${container.id}:`, error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.instances.forEach(instance =\u003e {\r\n      try {\r\n        fjGallery([instance.container], 'resize');\r\n      } catch (error) {\r\n        console.error('Error resizing fjGallery:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    this.instances.forEach(instance =\u003e {\r\n      try {\r\n        fjGallery([instance.container], 'destroy');\r\n      } catch (error) {\r\n        console.error('Error destroying fjGallery instance:', error);\r\n      }\r\n    });\r\n    this.instances = [];\r\n  }\r\n}\r\n\r\n\r\n// 主画廊控制器\r\nclass ImageGallery {\r\n\r\n  constructor() {\r\n    this.config = window.HUGO_GALLERY_CONFIG || {};\r\n    const parseConfig = (config) =\u003e {\r\n      if (typeof config === 'string') {\r\n        try {\r\n          return JSON.parse(config);\r\n        } catch (e) {\r\n          console.error('JSON parse error:', e);\r\n          return {};\r\n        }\r\n      }\r\n      return config || {};\r\n    };\r\n\r\n    this.lightboxManager = new LightboxManager(parseConfig(this.config.lightbox_options));\r\n    this.justifiedManager = new JustifiedLayoutManager(parseConfig(this.config.justified));\r\n    this.galleries = [];\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () =\u003e this.setup());\r\n    } else {\r\n      this.setup();\r\n    }\r\n  }\r\n\r\n  setup() {\r\n    this.processImages();\r\n  }\r\n\r\n  processImages() {\r\n    const imageFigures = document.querySelectorAll('.image-figure[data-gallery-type=\"auto\"]');\r\n\r\n    if (imageFigures.length === 0) return;\r\n\r\n    const groups = this.detectImageGroups(imageFigures);\r\n\r\n    groups.forEach((group, index) =\u003e {\r\n      \r\n      if (group.length \u003e 1 \u0026\u0026 this.config.justified_gallery) {\r\n        this.createJustifiedGalleryGroup(group, index);\r\n      } else {\r\n        this.processIndividualImages(group);\r\n      }\r\n    });\r\n  }\r\n\r\n  detectImageGroups(figures) {\r\n    const groups = [];\r\n    let currentGroup = [];\r\n\r\n    for (let i = 0; i \u003c figures.length; i++) {\r\n      const figure = figures[i];\r\n      const nextFigure = figures[i + 1];\r\n\r\n      currentGroup.push(figure);\r\n\r\n      if (nextFigure \u0026\u0026 this.areConsecutiveByEmptyLine(figure, nextFigure)) {\r\n        continue;\r\n      } else {\r\n        if (currentGroup.length \u003e 0) {\r\n          groups.push([...currentGroup]);\r\n          currentGroup = [];\r\n        }\r\n      }\r\n    }\r\n\r\n    if (currentGroup.length \u003e 0) {\r\n      groups.push([...currentGroup]);\r\n    }\r\n\r\n    return groups;\r\n  }\r\n\r\n  areConsecutiveByEmptyLine(figure1, figure2) {\r\n    let current = figure1.nextElementSibling;\r\n\r\n    while (current \u0026\u0026 current !== figure2) {\r\n      if (current.nodeType === Node.TEXT_NODE) {\r\n        const text = current.textContent.trim();\r\n        if (text === '') {\r\n          current = current.nextElementSibling;\r\n          continue;\r\n        }\r\n        return false;\r\n      }\r\n\r\n      if (current.nodeType === Node.ELEMENT_NODE) {\r\n        if (current.matches('.image-figure')) {\r\n          current = current.nextElementSibling;\r\n          continue;\r\n        }\r\n\r\n        const tagName = current.tagName.toLowerCase();\r\n        const text = current.textContent.trim();\r\n\r\n        if (tagName === 'p' \u0026\u0026 text === '') {\r\n          return false;\r\n        } else if (tagName === 'br') {\r\n          current = current.nextElementSibling;\r\n          continue;\r\n        } else if (text !== '') {\r\n          return false;\r\n        }\r\n        current = current.nextElementSibling;\r\n      }\r\n    }\r\n\r\n    return current === figure2;\r\n  }\r\n\r\n  processIndividualImages(figures) {\r\n    figures.forEach((figure, index) =\u003e {\r\n      figure.classList.add('single-image');\r\n      \r\n      if (this.config.lightbox) {\r\n        this.setupLightboxForSingleImage(figure, `single-${Date.now()}-${index}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  createJustifiedGalleryGroup(figures, groupIndex) {\r\n    const galleryContainer = document.createElement('div');\r\n    galleryContainer.className = 'fj-gallery';\r\n    galleryContainer.id = `fj-gallery-${groupIndex}`;\r\n\r\n    figures.forEach(figure =\u003e {\r\n      const img = figure.querySelector('img');\r\n      const caption = figure.querySelector('.image-caption');\r\n\r\n      if (img) {\r\n        const item = document.createElement('div');\r\n        item.className = 'fj-gallery-item';\r\n\r\n        if (this.config.lightbox) {\r\n          const link = document.createElement('a');\r\n          link.href = img.getAttribute('data-gallery-src') || img.src;\r\n          link.className = 'glightbox';\r\n          link.setAttribute('data-gallery', galleryContainer.id);\r\n          \r\n          this.lightboxManager.setupAttributes(link, img, caption);\r\n\r\n          const newImg = document.createElement('img');\r\n          newImg.src = img.src;\r\n          newImg.alt = img.alt || '';\r\n          newImg.loading = 'lazy';\r\n\r\n          if (img.naturalWidth \u0026\u0026 img.naturalHeight) {\r\n            newImg.width = img.naturalWidth;\r\n            newImg.height = img.naturalHeight;\r\n          }\r\n\r\n          link.appendChild(newImg);\r\n          item.appendChild(link);\r\n        } else {\r\n          const newImg = document.createElement('img');\r\n          newImg.src = img.src;\r\n          newImg.alt = img.alt || '';\r\n          newImg.loading = 'lazy';\r\n\r\n          if (img.naturalWidth \u0026\u0026 img.naturalHeight) {\r\n            newImg.width = img.naturalWidth;\r\n            newImg.height = img.naturalHeight;\r\n          }\r\n\r\n          item.appendChild(newImg);\r\n        }\r\n\r\n        galleryContainer.appendChild(item);\r\n      }\r\n    });\r\n\r\n    // 替换第一个图片并移除其他图片\r\n    const firstFigure = figures[0];\r\n    firstFigure.parentNode.insertBefore(galleryContainer, firstFigure);\r\n    figures.forEach(figure =\u003e figure.remove());\r\n\r\n    // 初始化布局\r\n    this.justifiedManager.initialize(galleryContainer);\r\n\r\n    // 初始化灯箱\r\n    if (this.config.lightbox) {\r\n      this.lightboxManager.initialize(galleryContainer, galleryContainer.id);\r\n    }\r\n\r\n    this.galleries.push({\r\n      container: galleryContainer,\r\n      id: galleryContainer.id,\r\n      index: groupIndex\r\n    });\r\n  }\r\n\r\n  setupLightboxForSingleImage(figure, galleryId) {\r\n    const img = figure.querySelector('img');\r\n    const caption = figure.querySelector('.image-caption');\r\n    \r\n    if (!img) return;\r\n\r\n    const link = document.createElement('a');\r\n    link.href = img.getAttribute('data-gallery-src') || img.src;\r\n    link.className = 'glightbox';\r\n    link.setAttribute('data-gallery', galleryId);\r\n\r\n    this.lightboxManager.setupAttributes(link, img, caption);\r\n\r\n    img.parentNode.insertBefore(link, img);\r\n    link.appendChild(img);\r\n\r\n    this.lightboxManager.initialize(figure, galleryId);\r\n  }\r\n\r\n\r\n\r\n\r\n  updateLayout() {\r\n    this.justifiedManager.resize();\r\n  }\r\n\r\n  destroy() {\r\n    this.justifiedManager.destroy();\r\n    this.lightboxManager.destroy();\r\n    this.galleries = [];\r\n  }\r\n}\r\n\r\n// 初始化画廊功能\r\nconst imageGallery = new ImageGallery();\r\n\r\n// 监听窗口大小变化\r\nlet resizeTimer;\r\nwindow.addEventListener('resize', () =\u003e {\r\n  clearTimeout(resizeTimer);\r\n  resizeTimer = setTimeout(() =\u003e {\r\n    imageGallery.updateLayout();\r\n  }, 250);\r\n});\r\n\r\n// 导出到全局作用域\r\nwindow.ImageGallery = ImageGallery;\r\nwindow.LightboxManager = LightboxManager;\r\nwindow.JustifiedLayoutManager = JustifiedLayoutManager;"],"mappings":"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","names":[]}